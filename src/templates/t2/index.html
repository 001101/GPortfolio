<!DOCTYPE html>
<html lang="en">
<head>
  ${require('html-loader?interpolate!../parts/head/index.html')}
  <style>
    .background--image {
      background: url(<%= htmlWebpackPlugin.options.background_img %>);
    }
    .avatar--image {
      background: url(<%= htmlWebpackPlugin.options.avatar_img %>);
    }
  </style>
</head>
<body>

<%
safeQuotes = (str) => {
  return str.replace(/"/g, '&quot;')
}
%>

<div id="app">
  <header class="header">
    <div class="header__background background--image"></div>
    <div class="header__resume">
      <% if (htmlWebpackPlugin.options.resume) { %>
      <a href="<%= htmlWebpackPlugin.options.resume %>" target="_blank" rel="noopener">
        Resume
      </a>
      <% } %>
    </div>
    <div class="header__content">
      <div class="header__content__image">
        <div class="avatar--image"></div>
      </div>
      <h1 class="header__content__name"><%= htmlWebpackPlugin.options.full_name %></h1>
      <span class="header__content__profession"><%= htmlWebpackPlugin.options.profession %></span>
      <% if (htmlWebpackPlugin.options.social_media.length > 0) { %>
      <div class="header__content__social">
        <% for (const media of htmlWebpackPlugin.options.social_media) { %>
        <a href="<%= media.href %>" title="<%= safeQuotes(media.name) %>" target="_blank" rel="noopener">
          <i class="fa fa-<%= media.icon %>" aria-hidden="true"></i>
        </a>
        <% } %>
      </div>
      <% } %>
    </div>
  </header>
  <div class="content">
    <div class="section section_about_me">
      <h2>About me</h2>
      <div class="section__inner has--padding">
        <%= htmlWebpackPlugin.options.about_me %>
      </div>
    </div>
    <div class="section section_skills">
      <h2>Skills</h2>
      <div class="section__inner">
        <% for (const skill of htmlWebpackPlugin.options.skills) { %>
          <div class="skill"><%= skill %></div>
        <% } %>
      </div>
    </div>
    <% if (htmlWebpackPlugin.options.display_projects) { %>
      <div class="section section_projects">
        <h2>Projects</h2>
        <div class="section__inner">
          <ul>
            <% for (const project of htmlWebpackPlugin.options.projects.items) { %>
              <li>
                <div class="project-item">
                  <% if (project.href) { %>
                    <a href="<%= project.href %>" class="project-item__link" title="<%= safeQuotes(project.name) %>"
                       target="_blank" rel="noopener">
                    </a>
                  <% } %>
                  <img src="<%= project.image %>" alt="<%= safeQuotes(project.name) %>">
                  <div class="project-item__content">
                    <div class="project-item__content__name">
                      <%= project.name %>
                    </div>
                    <div class="project-item__content__description">
                      <%= project.description %>
                    </div>
                  </div>
                </div>
              </li>
            <% } %>
          </ul>
        </div>
      </div>
    <% } %>
  </div>
</div>

</body>
</html>
