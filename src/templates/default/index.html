<!DOCTYPE html>
<%
const o = htmlWebpackPlugin.options
const forceLastSlash = (str) => str[str.length - 1] === '/' ? str : str + '/'
const urlBase = o.isProd ? forceLastSlash('https://' + (o._config.customDomain || `${o._config.username}.github.io/${o._config.base}`)) : '/'
const safeQuotes = (str) => str.replace(/"/g, '&quot;')
const url = (path) => urlBase + path
%>
<html lang="en">
<head>
  <!-- START: Common part -->
  <meta charset="utf-8">
  <title><%= o._profile.name %></title>
  <meta property="og:title" content="Portfolio by <%= o._profile.name %>" />
  <meta property="og:type" content="profile" />
  <meta property="og:image" content="<%= o._profile.avatar_url %>" />
  <meta property="og:url" content="<%= urlBase %>" />
  <meta property="og:description" content="<%= o._profile.bio %>" />
  <meta property="profile:username" content="<%= o._profile.login %>" />
  <% for (let [property, content] of Object.entries(o._config.opg)) { %>
  <meta property="<%= property %>" content="<%= content %>" />
  <% } %>
  <!-- END: Common part -->
  <style>
  .avatar--image {
    background: url(<%= o._profile.avatar_url %>);
  }
  </style>
</head>
<body>
<header class="header">
  <div class="header__background background--image"></div>
  <div class="header__wrap">
    <div class="header__wrap__image">
      <div class="avatar--image"></div>
    </div>
    <h1 class="header__wrap__name"><%= o._profile.name %></h1>
    <% if (o._config.position) { %>
    <span class="header__wrap__position"><%= o._config.position %></span>
    <% } %>
    <% if (o._config.socialMedia.length > 0) { %>
    <div class="header__wrap__social">
      <% for (const media of o._config.socialMedia) { %>
      <a href="<%= media.link %>" title="<%= safeQuotes(media.name) %>" target="_blank" rel="noopener">
        <%= require(`!!svg-inline-loader!@asset/upstream/icons/${media.icon}.svg`) %>
      </a>
      <% } %>
    </div>
    <% } %>
  </div>
</header>
<main>

</main>
</body>
</html>
