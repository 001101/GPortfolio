<%
/*
 * Properties:
 *  - Require: profile, config, url
 *  - Include: defaultBackground
 */

const assetFolder = require.context('@asset', true, /\.gif|png|jpe?g|svg/)
const background = !config.background || config.background.includes('http')
    ? config.background
    : assetFolder(`./${config.background}`)
%>

<meta charset="utf-8">
<title><%= profile.name %></title>
<!-- START: Open Graph -->
<meta property="og:title" content="Portfolio by <%= profile.name %>" />
<meta property="og:type" content="profile" />
<meta property="og:image" content="<%= profile.avatar_url %>" />
<meta property="og:url" content="<%= url %>" />
<meta property="og:description" content="<%= profile.bio %>" />
<meta property="profile:username" content="<%= profile.login %>" />
<% for (let [property, content] of Object.entries(config.opg)) { %>
    <meta property="<%= property %>" content="<%= content %>" />
<% } %>
<!-- END: Open Graph -->

<style>
.avatar--image {
    background: url(<%= profile.avatar_url %>);
}
.background--image {
    background: url(<%= background || (typeof defaultBackground === 'undefined' ? null : defaultBackground) %>);
}
</style>
